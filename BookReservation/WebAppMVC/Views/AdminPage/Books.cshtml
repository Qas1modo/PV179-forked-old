@model AdminPageBooksModel

<h1>Books</h1>
<ol class="list-group list-group-numbered">

	@{
		if (Model.Books == null || Model.Books.Count() == 0)
		{
			<li class="list-style-type: none;"><h4>No Books</h4></li>
		}
		else
		{
			foreach (var book in Model.Books)
			{
				<li class="list-group-item d-flex justify-content-between align-items-start">
					<div class="ms-2 me-auto">
						<div class="fw-bold">@book.Name</div>
						@book.Author.Name
					</div>
					<span class="badge bg-primary rounded-pill">@book.Stock</span>
					<a href="@Url.Action("ChangeBookInfo", "AdminPage", new { id = book.Id })" class="stretched-link"></a>
				</li>
			}
		}
	}
</ol>

<nav>
	<ul class="pagination justify-content-center">
		@if (Model.Page > 1)
		{
			<li class="page-item">
				<a class="page-link"
			   href="@($"/adminpage/Books/{Model.Page - 1}")">
					Previous
				</a>
			</li>
		}
		@for (int i = Math.Max(1, Model.Page - 3); i <= Math.Min(Model.Page + 3, Model.Total); ++i)
		{
			if (Model.Page == i)
			{
				<li class="page-item active" aria-current="page"><a class="page-link" href="#" disabled>@i</a></li>
				continue;
			}
			<li class="page-item">
				<a class="page-link"
			   href="@($"/adminpage/Books/{i}")">@i</a>
			</li>
		}
		@if (Model.Page < Model.Total)
		{
			<li class="page-item">
				<a class="page-link"
			   href="@($"/adminpage/Books/{Model.Page + 1}")">Next</a>
			</li>
		}
	</ul>
</nav>
